module case-simple1
 
--- Imports:
 
--- Type defs:
type case-simple1.P = Choose { c1: [uint 8]
                             ; c2: [uint 8]
                             }
 
type case-simple1.Main = { p: case-simple1.P
                         ; tag: [uint 8]
                         }
 
--- Rules:
 
case-simple1.P : Grammar case-simple1.P =
  Choose fair
    { {- c1 -} do (_0 : [uint 8]) <- MatchBytes "a"
                  pure {c1: _0}
    | {- c2 -} do (_1 : [uint 8]) <- MatchBytes "b"
                  pure {c2: _1}
    }
 
case-simple1.Main : Grammar case-simple1.Main =
  do (p : case-simple1.P) <- case-simple1.P
     (tag : [uint 8]) <- case p is
                           { _ -> pure "default"
                           }
     pure {p = p,
           tag = tag}
 
case-simple1._Main : Grammar {} =
  do (p : case-simple1.P) <- case-simple1.P
     case p is
       { _ -> pure {}
       }
     pure {}
 
case-simple1._P : Grammar {} =
  Choose fair
    { {- c1 -} @MatchBytes "a"
    | {- c2 -} @MatchBytes "b"
    }
