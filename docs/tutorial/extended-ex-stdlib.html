<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aside: The DaeDaLus Standard Library &mdash; Daedalus 0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/design-tabs.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Extended Exercise: Defining Helpful Utilities" href="extended-ex-utils.html" />
    <link rel="prev" title="Aside: What To (Not) Do While Parsing" href="extended-ex-parsers.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Daedalus
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Using the Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../using-daedalus.html">Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using-daedalus.html#check-a-specification">Check a Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using-daedalus.html#run-the-interpreter">Run the Interpreter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using-daedalus.html#compile-to-haskell">Compile to Haskell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using-daedalus.html#compile-to-c">Compile to C++</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Daedalus Language</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../declarations.html">Declarations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parsers.html">Parsers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../parsers.html#primitive-parsers">Primitive Parsers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../parsers.html#sequencing-parsers">Sequencing Parsers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../parsers.html#basic-sequencing">Basic Sequencing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../parsers.html#explicit-result">Explicit Result</a></li>
<li class="toctree-l3"><a class="reference internal" href="../parsers.html#local-variables">Local Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../parsers.html#structure-sequence">Structure Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="../parsers.html#syntactic-sugar">Syntactic Sugar</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../parsers.html#parsing-alternatives">Parsing Alternatives</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../parsers.html#biased-choice">Biased Choice</a></li>
<li class="toctree-l3"><a class="reference internal" href="../parsers.html#unbiased-choice">Unbiased Choice</a></li>
<li class="toctree-l3"><a class="reference internal" href="../parsers.html#alternative-syntax">Alternative Syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="../parsers.html#tagged-unions">Tagged Unions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../parsers.html#repetition">Repetition</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../control-structures.html">Control Structures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../control-structures.html#if-then-else">If-then-else</a></li>
<li class="toctree-l2"><a class="reference internal" href="../control-structures.html#guards">Guards</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../control-structures.html#boolean-guards">Boolean Guards</a></li>
<li class="toctree-l3"><a class="reference internal" href="../control-structures.html#guards-on-maybe">Guards on <code class="docutils literal notranslate"><span class="pre">maybe</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../control-structures.html#guards-on-tagged-unions">Guards on Tagged Unions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../control-structures.html#case">Case</a></li>
<li class="toctree-l2"><a class="reference internal" href="../control-structures.html#for-loops"><code class="docutils literal notranslate"><span class="pre">for</span></code> loops</a></li>
<li class="toctree-l2"><a class="reference internal" href="../control-structures.html#traversing-with-map">Traversing with <code class="docutils literal notranslate"><span class="pre">map</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../control-structures.html#many-loops"><code class="docutils literal notranslate"><span class="pre">many</span></code> loops</a></li>
<li class="toctree-l2"><a class="reference internal" href="../control-structures.html#commit">Commit</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../types.html">Type Annotations and Coercions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../types.html#annotating-an-expression">Annotating an Expression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../types.html#annotating-the-result-of-a-declaration">Annotating the Result of a Declaration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../types.html#annotating-a-parameter">Annotating a Parameter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../types.html#naming-unknown-types">Naming Unknown Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../types.html#coercions">Coercions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../semantic-values.html">Semantic Values</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../semantic-values.html#booleans">Booleans</a></li>
<li class="toctree-l2"><a class="reference internal" href="../semantic-values.html#numeric-types">Numeric Types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../semantic-values.html#numeric-literals">Numeric Literals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../semantic-values.html#comparisons">Comparisons</a></li>
<li class="toctree-l3"><a class="reference internal" href="../semantic-values.html#basic-arithmetic">Basic Arithmetic</a></li>
<li class="toctree-l3"><a class="reference internal" href="../semantic-values.html#bitwise-operations">Bitwise Operations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../semantic-values.html#maybe-type"><code class="docutils literal notranslate"><span class="pre">maybe</span></code> type</a></li>
<li class="toctree-l2"><a class="reference internal" href="../semantic-values.html#arrays">Arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="../semantic-values.html#association-maps">Association Maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../semantic-values.html#builders">Builders</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../streams.html">Stream Manipulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../character-classes.html">Character Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../external.html">External Declarations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bitdata.html">Bitdata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lifting.html">Implicit Lifting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../implicit-parameters.html">Implicit Parameters</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Daedalus Tutorial</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#daedalus-syntax-highlighting-editing-modes">DaeDaLus Syntax Highlighting / Editing Modes</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#your-first-daedalus-specification">Your First DaeDaLus Specification</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting-started.html#the-portable-pixmap-format">The Portable PixMap Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting-started.html#an-example-ppm-image">An Example PPM Image</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting-started.html#a-daedalus-ppm-specification">A DaeDaLus PPM Specification</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ppm-breakdown.html">Breaking Down the PPM Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="ppm-breakdown-decl.html">Breaking down PPM: Declarations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ppm-breakdown-decl.html#deducing-types-from-names">Deducing Types From Names</a></li>
<li class="toctree-l2"><a class="reference internal" href="ppm-breakdown-decl.html#parameterized-declarations">Parameterized Declarations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ppm-breakdown-parse.html">Breaking down PPM: Primitive Parsing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ppm-breakdown-parse.html#uint8"><code class="docutils literal notranslate"><span class="pre">UInt8</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="ppm-breakdown-parse.html#match1"><code class="docutils literal notranslate"><span class="pre">Match1</span> <span class="pre">...</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="ppm-breakdown-parse.html#match"><code class="docutils literal notranslate"><span class="pre">Match</span> <span class="pre">...</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="ppm-breakdown-parse.html#end"><code class="docutils literal notranslate"><span class="pre">END</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="ppm-breakdown-parse.html#id1"><code class="docutils literal notranslate"><span class="pre">^</span> <span class="pre">...</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="ppm-breakdown-parse.html#fail"><code class="docutils literal notranslate"><span class="pre">Fail</span> <span class="pre">...</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ppm-breakdown-comb.html">Breaking down PPM: Parser Combinators</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ppm-breakdown-comb.html#standard-sequencing">Standard Sequencing</a></li>
<li class="toctree-l2"><a class="reference internal" href="ppm-breakdown-comb.html#array-sequencing">Array Sequencing</a></li>
<li class="toctree-l2"><a class="reference internal" href="ppm-breakdown-comb.html#structure-sequencing">Structure Sequencing</a></li>
<li class="toctree-l2"><a class="reference internal" href="ppm-breakdown-comb.html#de-sugaring-nonstandard-structure-sequences">De-Sugaring Nonstandard Structure Sequences</a></li>
<li class="toctree-l2"><a class="reference internal" href="ppm-breakdown-comb.html#parsing-alternates">Parsing Alternates</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ppm-breakdown-comb.html#biased-choice-parsing">Biased Choice Parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="ppm-breakdown-comb.html#unbiased-choice-parsing">Unbiased Choice Parsing</a></li>
<li class="toctree-l3"><a class="reference internal" href="ppm-breakdown-comb.html#tagged-sum-types">Tagged Sum Types</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ppm-breakdown-comb.html#repeating-parsers">Repeating Parsers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ppm-breakdown-expr.html">Breaking down PPM: Expressions and Control Flow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ppm-breakdown-expr.html#built-in-semantic-values">Built-In Semantic Values</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ppm-breakdown-expr.html#bool"><code class="docutils literal notranslate"><span class="pre">bool</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ppm-breakdown-expr.html#numerics">Numerics</a></li>
<li class="toctree-l3"><a class="reference internal" href="ppm-breakdown-expr.html#maybe"><code class="docutils literal notranslate"><span class="pre">maybe</span> <span class="pre">...</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ppm-breakdown-expr.html#t"><code class="docutils literal notranslate"><span class="pre">[T]</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ppm-breakdown-expr.html#array-builders">Array Builders</a></li>
<li class="toctree-l3"><a class="reference internal" href="ppm-breakdown-expr.html#k-t"><code class="docutils literal notranslate"><span class="pre">[K</span> <span class="pre">-&gt;</span> <span class="pre">T]</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ppm-breakdown-expr.html#control-strucutres">Control Strucutres</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ppm-breakdown-expr.html#if-then-else"><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">...</span> <span class="pre">then</span> <span class="pre">...</span> <span class="pre">else</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ppm-breakdown-expr.html#guarding">Guarding</a></li>
<li class="toctree-l3"><a class="reference internal" href="ppm-breakdown-expr.html#case-of"><code class="docutils literal notranslate"><span class="pre">case</span> <span class="pre">...</span> <span class="pre">of</span> <span class="pre">...</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="ppm-breakdown-expr.html#loops">Loops</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ppm-breakdown-expr.html#for"><code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">...</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="ppm-breakdown-expr.html#map"><code class="docutils literal notranslate"><span class="pre">map</span> <span class="pre">...</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ppm-breakdown-expr.html#more-on-types">More on Types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ppm-breakdown-expr.html#annotating-types">Annotating Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="ppm-breakdown-expr.html#unknown-types">Unknown Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="ppm-breakdown-expr.html#type-coercion">Type Coercion</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extended-ex-intro.html">Extended Exercise: The PNG Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="extended-ex-parsers.html">Aside: What To (Not) Do While Parsing</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Aside: The DaeDaLus Standard Library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#endianness">Endianness</a></li>
<li class="toctree-l2"><a class="reference internal" href="#floating-point-numbers">Floating-Point Numbers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#guarding-and-consuming-everything">Guarding and Consuming Everything</a></li>
<li class="toctree-l2"><a class="reference internal" href="#manipulating-input-streams">Manipulating Input Streams</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extended-ex-utils.html">Extended Exercise: Defining Helpful Utilities</a><ul>
<li class="toctree-l2"><a class="reference internal" href="extended-ex-utils.html#domain-specific-parser-names">Domain-Specific Parser Names</a></li>
<li class="toctree-l2"><a class="reference internal" href="extended-ex-utils.html#null-terminated-strings">Null-terminated Strings</a></li>
<li class="toctree-l2"><a class="reference internal" href="extended-ex-utils.html#common-structures">Common Structures</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extended-ex-chunks.html">Extended Exercise: PNG Chunks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="extended-ex-chunks.html#introducing-bitdata">Introducing <code class="docutils literal notranslate"><span class="pre">bitdata</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="extended-ex-chunks.html#png-chunk-types">PNG Chunk Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="extended-ex-chunks.html#png-chunk-data">PNG Chunk Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="extended-ex-chunks.html#plte">PLTE</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended-ex-chunks.html#idat">IDAT</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended-ex-chunks.html#trns">tRNS</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended-ex-chunks.html#chrm">cHRM</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended-ex-chunks.html#gama">gAMA</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended-ex-chunks.html#iccp">iCCP</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended-ex-chunks.html#sbit">sBIT</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended-ex-chunks.html#srgb">sRGB</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended-ex-chunks.html#text">tEXt</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended-ex-chunks.html#ztxt">zTXt</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended-ex-chunks.html#itxt">iTXt</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended-ex-chunks.html#bkgd">bKGD</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended-ex-chunks.html#hist">hIST</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended-ex-chunks.html#phys">pHYs</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended-ex-chunks.html#splt">sPLT</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended-ex-chunks.html#time">tIME</a></li>
<li class="toctree-l3"><a class="reference internal" href="extended-ex-chunks.html#generic-chunk-data-parsing">Generic Chunk Data Parsing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="extended-ex-chunks.html#png-chunks">PNG Chunks</a></li>
<li class="toctree-l2"><a class="reference internal" href="extended-ex-chunks.html#header-trailer">Header / Trailer</a></li>
<li class="toctree-l2"><a class="reference internal" href="extended-ex-chunks.html#full-png">Full PNG</a></li>
<li class="toctree-l2"><a class="reference internal" href="extended-ex-chunks.html#conclusion">Conclusion</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extended-ex-solution.html">Extended Exercise: Full Solution</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Daedalus</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Aside: The DaeDaLus Standard Library</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/tutorial/extended-ex-stdlib.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="aside-the-daedalus-standard-library">
<h1>Aside: The DaeDaLus Standard Library<a class="headerlink" href="#aside-the-daedalus-standard-library" title="Permalink to this headline"></a></h1>
<p>DaeDaLus, like most modern programming languages, ships with a standard library
of useful parsers and functions. It is quite small, and written entirely in
DaeDaLus itself. This brief section highlights some of the parsers provided,
without digging deeply into their implementation. You’ll find this section
useful while working on the extended PNG exercise, particularly for parsing
multi-byte words with the correct endianness.</p>
<section id="endianness">
<h2>Endianness<a class="headerlink" href="#endianness" title="Permalink to this headline"></a></h2>
<p>When working with binary data, we must concern ourselves with <em>endianness</em> -
the order of bytes within a multi-byte word of data. Many format specifications
define an endianness for their bytes, and your machine’s architecture defines
an endianness for, say, multi-byte integers.</p>
<p>The DaeDaLus standard library provides a large handful of parsers that make
working with such data convenient and easy. Names beginnning with <code class="docutils literal notranslate"><span class="pre">BE</span></code>
parse big-endian words, names beginning with <code class="docutils literal notranslate"><span class="pre">LE</span></code> parse little-endian words.
The parsers with names like <code class="docutils literal notranslate"><span class="pre">UInt16</span></code> and <code class="docutils literal notranslate"><span class="pre">SInt32</span></code> parse <em>either</em>
big-endian or little-endian data, depending on the value of an <em>implicit
parameter</em>. We haven’t discussed implicit parameters in this tutorial - for
more detail about them, see <a class="reference internal" href="../implicit-parameters.html#implicit-parameters"><span class="std std-ref">Implicit Parameters</span></a>.</p>
<p>First, the unsigned/signed integer parsers that depend on the implicit
parameter <code class="docutils literal notranslate"><span class="pre">?bigEndian</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">UInt16</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UInt32</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">UInt64</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SInt16</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SInt32</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SInt64</span></code></p></li>
</ul>
<p>The always-big-endian variants:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BEUInt16</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BEUInt32</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BEUInt64</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BESInt16</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BESInt32</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BESInt64</span></code></p></li>
</ul>
<p>And the always-little-endian variants:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LEUInt16</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LEUInt32</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LEUInt64</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LESInt16</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LESInt32</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LESInt64</span></code></p></li>
</ul>
</section>
<section id="floating-point-numbers">
<h2>Floating-Point Numbers<a class="headerlink" href="#floating-point-numbers" title="Permalink to this headline"></a></h2>
<p>There are also parsers for floating-point data in the standard library, for
16-, 32-, and 64-bit IEEE-754 standard floating-point numbers. Like with the
integer parsers described above, there are variations that use implicit
parameters, are always big-endian, and are always little-endian.</p>
<p>First, those that depend on the implicit parameter:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">HalfFloat</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Float</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Double</span></code></p></li>
</ul>
<p>The always-big-endian variants:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BEHalfFloat</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BEFloat</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BEDouble</span></code></p></li>
</ul>
<p>And the always-little-endian variants:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">LEHalfFloat</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LEFloat</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LEDouble</span></code></p></li>
</ul>
<p>Because the PNG specification makes use of a particular endianness for its
words, you’ll find many of these parsers useful while completing the exercises.</p>
</section>
<section id="guarding-and-consuming-everything">
<h2>Guarding and Consuming Everything<a class="headerlink" href="#guarding-and-consuming-everything" title="Permalink to this headline"></a></h2>
<p>Two very simple parsers in the standard library mimic behavior we’ve already
covered in earlier sections, but explicitly as named parsers.</p>
<p>The parser <code class="docutils literal notranslate"><span class="pre">Guard</span> <span class="pre">b</span></code> (where <code class="docutils literal notranslate"><span class="pre">b</span></code> is a <code class="docutils literal notranslate"><span class="pre">bool</span></code>) succeeds if <code class="docutils literal notranslate"><span class="pre">b</span></code> is
<code class="docutils literal notranslate"><span class="pre">true</span></code> and fails otherwise; it’s equivalent to <code class="docutils literal notranslate"><span class="pre">b</span> <span class="pre">is</span> <span class="pre">true</span></code>.</p>
<p>The parser <code class="docutils literal notranslate"><span class="pre">Only</span> <span class="pre">P</span></code> succeeds if <code class="docutils literal notranslate"><span class="pre">P</span></code> consumes all input. We can write this
instead of the slightly more verbose sequence <code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">$$</span> <span class="pre">=</span> <span class="pre">P;</span> <span class="pre">END</span> <span class="pre">}</span></code>.</p>
</section>
<section id="manipulating-input-streams">
<h2>Manipulating Input Streams<a class="headerlink" href="#manipulating-input-streams" title="Permalink to this headline"></a></h2>
<p>Sometimes (but fortunately not too often), we need to control exactly where we
are in the input stream manually. We can get the current stream using something
like <code class="docutils literal notranslate"><span class="pre">let</span> <span class="pre">s</span> <span class="pre">=</span> <span class="pre">GetStream</span></code> inside a parser block.</p>
<p>We can also set the stream with <code class="docutils literal notranslate"><span class="pre">SetStream</span> <span class="pre">s</span></code>. We can use this to parse the
same input more than once, parse fixed-size sub-streams, and generally ‘jump
around’ in the input we’re processing.</p>
<p>The standard library provides some convenient parsers to use these features
in some common ways:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SetStreamAt</span> <span class="pre">n</span> <span class="pre">s</span></code> sets the current stream to the <code class="docutils literal notranslate"><span class="pre">n</span></code> th byte of <code class="docutils literal notranslate"><span class="pre">s</span></code>,
which is some stream</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Skip</span> <span class="pre">n</span></code> advances the current stream <code class="docutils literal notranslate"><span class="pre">n</span></code> bytes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Chunk</span> <span class="pre">n</span> <span class="pre">P</span></code> parses <code class="docutils literal notranslate"><span class="pre">n</span></code> bytes using <code class="docutils literal notranslate"><span class="pre">P</span></code>. Importantly, <code class="docutils literal notranslate"><span class="pre">P</span></code> is not
required to parse all of the bytes, but the stream will still be advanced all
<code class="docutils literal notranslate"><span class="pre">n</span></code> bytes. To make sure <code class="docutils literal notranslate"><span class="pre">P</span></code> consumes all <code class="docutils literal notranslate"><span class="pre">n</span></code> bytes, use
<code class="docutils literal notranslate"><span class="pre">Chunk</span> <span class="pre">n</span> <span class="pre">(Only</span> <span class="pre">P)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Bytes</span> <span class="pre">n</span></code> gets a chunk of <code class="docutils literal notranslate"><span class="pre">n</span></code> raw, unprocessed bytes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LookAhead</span> <span class="pre">P</span></code> parses using <code class="docutils literal notranslate"><span class="pre">P</span></code>, but resets the stream to the current
position when <code class="docutils literal notranslate"><span class="pre">P</span></code> succeeds</p></li>
</ul>
<p>And that’s all of the standard library, except for some helper functions that
implement these parsers! In the following set of exercises, you’ll find these
extremely helpful in writing parsers for the various components of the PNG
format.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="extended-ex-parsers.html" class="btn btn-neutral float-left" title="Aside: What To (Not) Do While Parsing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="extended-ex-utils.html" class="btn btn-neutral float-right" title="Extended Exercise: Defining Helpful Utilities" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, The Daedalus Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>